<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .div1 {
        width: 0;
        height: 0;
        border-top: 10px solid red;
        border-left: 10px solid transparent;
        border-right: 10px solid transparent;
        border-bottom: 10px solid transparent;
      }
    </style>
  </head>
  <body>
    <div class="div1"></div>
    <script>
      // 创建一百个为0的数组
      Array.from({ 0: 0, length: 100 });
      console.log(Array.from({ length: 100 }, () => 0));
      [].fill(100);
      console.log([1, 1, 1, 1].fill(0, 0, 100));
      console.log(new Array(100).fill(0));
      // 数组扁平
      let ary = [1, [2, [3, [4, 5]]], 6];
      let str = JSON.stringify(ary);
      console.log(ary);
      console.log(str);

      // 1.直接的调用
      arr_flat = ary.flat(Infinity);
      console.log(arr_flat);
      // 2.正则
      ary = str.replace(/\[|]/g, "").split(",");
      console.log(ary);
      // 3 递归
      let result = [];
      let fn = function (ary) {
        for (let i = 0; i < ary.length; i++) {
          let item = ary[i];
          if (Array.isArray(ary[i])) {
            fn(item);
          } else {
            result.push(item);
          }
        }
      };
      fn(ary);
      console.log(result);
      //   4.用 reduce 实现数组的 flat 方法
      function flatten(ary) {
        return ary.reduce((pre, item) => {
          return pre.concat(Array.isArray(item) ? flatten(item) : item);
        }, []);
      }
      console.log(flatten(ary), "reduce");
      //   5.扩展运算符
      while (ary.some(Array.isArray)) {
        ary = [].concat(...ary);
      }
      console.log(ary);
      // 6.
      var a = 1;
      var a2 = 2;
      if ([1].includes(a)) {
        console.log("dadasdasdsadasdsa");
      }
      // 7.
      let un = null;
      let lo = console.log("空的");
      un?.lo;
      un ?? console.log("空2");
      // 8
      // 扁平化
      function flatten(arr) {
        return arr
          .toString()
          .split(",")
          .map((item) => +item);
      }
      console.log(flatten([1, 2, [3, [4, 2]]]));

      // var b = 10;
      // (function b() {
      //   b = 20;
      //   console.log(b);
      // })();

      // ,js 中的逗号
      if (((a = 1), a++, a)) {
        console.log(a);
      }
      console.log(2 * 5, 2 * 4); // 10 8
      // alert(2 * 5, 2 * 4);
      //输出10而不是8  函数接收第一个参数,也说明逗号级别比较低
      console.log((2 * 5, 2 * 4));
      // alert((2 * 5, 2 * 4));
      // 输出8 ()是返回了,相当于隐藏了return 所以返回最右边操作数的值
      // for (var i = 0, j = 9; i <= 9; i++, j--) {
      //   console.log(i, "i");
      //   // i = 0 1 2 3 4 5 6 7 8 9
      //   console.log(j, "j");
      //   // i = 9 8 7 6 5 4 3 2 1 0
      // }

      const array = [3, 7, 2, 8, 2, 782, 7, 29, 1, 3, 0, 34];
      array.sort((pre, next) => pre - next);
      console.log(array, "array");
      // => [0, 1, 2, 2, 3, 3, 7, 7, 8, 29, 34, 782]
      const arr = [1, 2, 3, 4, 5];
      arr.sort((p, n) => {
        return n === 3 ? 1 : 0;
      });
      console.log(arr, "arr");
      // => [3, 1, 2, 4, 5]
      array.push("push");
      array.unshift("unshift");
      console.log(array);
    </script>
  </body>
</html>
